<body>
  <nav class="navbar">
    <div class="navbar-inner">
      <div class="nav-content">
        <a href="forum.html">Forum</a>
        <a href="store.html">Store</a>
        <a href="wall.html">Väggen</a>
        <a href="upload.html">Ladda upp</a>
        <a href="profile.html">Profil</a>
        <a href="friends.html">Vänner</a>
        <div class="search-container">
          <input type="text" placeholder="Sök..." id="searchInput" />
        </div>
      </div>
    </div>
  </nav>

  <div class="upload-box">
    <h1>Ladda upp innehåll</h1>
    <img id="spinner" src="spinner-asg.png" alt="Laddar..." />

    <!-- STEG 1: Välj vad du vill ladda upp -->
    <div id="content-type-select" style="display:flex; gap:12px; justify-content:center; margin-bottom:18px;">
      <button type="button" class="type-btn active" data-type="text">📝 Text</button>
      <button type="button" class="type-btn" data-type="image">🖼️ Bild</button>
      <button type="button" class="type-btn" data-type="video">🎬 Klipp</button>
      <button type="button" class="type-btn" data-type="audio">🎵 Ljud</button>
      <button type="button" class="type-btn" data-type="mic">🎤 Röst</button>
      <button type="button" class="type-btn" data-type="combo">🔀 Kombinera</button>
    </div>

    <form id="uploadForm">
      <!-- TEXT -->
      <div class="upload-section" data-section="text">
        <label for="text">Skriv ett inlägg:</label>
        <textarea id="text" placeholder="Vad vill du dela med dig av?"></textarea>
      </div>
      <!-- BILD -->
      <div class="upload-section" data-section="image" style="display:none;">
        <label for="image">Ladda upp en bild:</label>
        <input type="file" id="image" accept="image/*" />
      </div>
      <!-- VIDEO -->
      <div class="upload-section" data-section="video" style="display:none;">
        <label for="video">Ladda upp ett klipp:</label>
        <input type="file" id="video" accept="video/mp4,video/webm,video/ogg" />
      </div>
      <!-- AUDIO -->
      <div class="upload-section" data-section="audio" style="display:none;">
        <label for="audio">Ladda upp ljudfil:</label>
        <input type="file" id="audio" accept="audio/*" />
      </div>
      <!-- RÖSTINSPELNING -->
      <div class="upload-section" data-section="mic" style="display:none;">
        <label>Mikrofoninspelning:</label>
        <button type="button" id="recordButton">🎤 Starta inspelning</button>
        <button type="button" id="stopButton" disabled>🛑 Stoppa</button>
        <audio id="audioPreview" controls></audio>
      </div>
      <!-- KOMBINERA -->
      <div class="upload-section" data-section="combo" style="display:none;">
        <label for="comboText">Skriv ett inlägg:</label>
        <textarea id="comboText" placeholder="Text till kombinerat inlägg..."></textarea>
        <label for="comboImage">Bild (valfritt):</label>
        <input type="file" id="comboImage" accept="image/*" />
        <label for="comboVideo">Klipp (valfritt):</label>
        <input type="file" id="comboVideo" accept="video/mp4,video/webm,video/ogg" />
        <label for="comboAudio">Ljudfil (valfritt):</label>
        <input type="file" id="comboAudio" accept="audio/*" />
      </div>
      <!-- TILLFÄLLIGT -->
      <label style="margin-top:18px;">
        <input type="checkbox" id="temporary" />
        Gör detta till ett tillfälligt inlägg (försvinner om 24h)
      </label>

      <button type="submit" style="margin-top:18px;">Ladda upp</button>
    </form>
  </div>

  <script>
    // Växla sektioner när man klickar på typknapparna
    document.querySelectorAll(".type-btn").forEach(btn => {
      btn.addEventListener("click", e => {
        document.querySelectorAll(".type-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const type = btn.dataset.type;
        document.querySelectorAll(".upload-section").forEach(section => {
          section.style.display = section.dataset.section === type ? "block" : "none";
          // Kombinera = visa allt
          if (type === "combo") section.style.display = "block";
        });
      });
    });
    // Start med endast text-sektion
    document.querySelector(".type-btn[data-type='text']").click();
  </script>
</body>
